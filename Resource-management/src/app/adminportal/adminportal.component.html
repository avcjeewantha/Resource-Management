<div class="container pulldown">
  <div class="row">
    <div class="col-3">
      <div class="list-group">
        <a *ngFor='let menuitem of menu' class="list-group-item list-group-item-action" [class.active]='category===menuitem.key'
          routerLink='/portal/admin' [queryParams]='{category : menuitem.key}'>
          <h6>{{menuitem.name}}</h6>
        </a>
      </div>
    </div>
    <div class="col">

      <div *ngIf="category==='addemployee'" class="card">
        <div class="card-header">
          Add Employee
        </div>
        <div class="card-body">
          <div *ngIf="addSuccess" class="alert alert-success" role="alert">
            This application has been submitted.
          </div>
          <div class="col-lg-12 well">
            <div class="row">
              <form #fm="ngForm" (ngSubmit)="register(fm.value);fm.reset()">
                <div class="col-sm-12">
                  <div class="row">
                    <div class="col-sm-6 form-group">
                      <label>Employee's First Name</label>
                      <input required ngModel pattern="[A-Za-z]+" name='fn' #fn="ngModel" type="text" placeholder="Enter First Name Here.." class="form-control">
                      <div *ngIf="fn.touched && !fn.valid">
                        <div class="alert alert-danger" *ngIf="fn.errors.required">
                          First Name is required
                        </div>
                        <div class="alert alert-danger" *ngIf="fn.errors.pattern">
                          First Name is invalid
                        </div>
                      </div>
                    </div>
                    <div class="col-sm-6 form-group">
                      <label>Employee's Last Name</label>
                      <input required ngModel pattern="[A-Za-z]+" name='ln' #ln="ngModel" type="text" placeholder="Enter Last Name Here.." class="form-control">
                      <div *ngIf="ln.touched && !ln.valid">
                        <div class="alert alert-danger" *ngIf="ln.errors.required">
                          Last Name is required
                        </div>
                        <div class="alert alert-danger" *ngIf="ln.errors.pattern">
                          Last Name is invalid
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <label>Address</label>
                    <textarea required ngModel name='address' #address="ngModel" placeholder="Enter Address Here.." rows="3" class="form-control"></textarea>
                    <div class="alert alert-danger" *ngIf="address.touched && !address.valid">
                      Address is required
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4 form-group">
                      <label>City</label>
                      <input required ngModel name='city' #city="ngModel" type="text" placeholder="Enter City Name Here.." class="form-control">
                      <div class="alert alert-danger" *ngIf="city.touched && !city.valid">
                        City is required
                      </div>
                    </div>

                    <div class="col-sm-4 form-group">
                      <label>Start Date</label>

                      <div class="form-group">
                        <div class="input-group">
                          <input required class="form-control" placeholder="yyyy-mm-dd" name="sdate" #sdate="ngModel" [(ngModel)]="startdate" ngbDatepicker
                            #d1="ngbDatepicker">
                          <div class="input-group-append">
                            <button class="btn btn-outline-secondary" (click)="d1.toggle()" type="button">
                              <img src="/assets/date.png" style="width: 1.2rem; height: 1rem; cursor: pointer;" />
                            </button>
                          </div>
                          <div class="alert alert-danger" *ngIf="sdate.touched && !sdate.valid">
                            Start Date is required
                          </div>
                        </div>
                      </div>

                    </div>
                    <div class="col-sm-4 form-group">
                      <label>Date of Birthday</label>

                      <div class="form-group">
                        <div class="input-group">
                          <input required class="form-control" placeholder="yyyy-mm-dd" name="dob" #dob="ngModel" [(ngModel)]="birthday" ngbDatepicker
                            #d2="ngbDatepicker">
                          <div class="input-group-append">
                            <button class="btn btn-outline-secondary" (click)="d2.toggle()" type="button">
                              <img src="/assets/date.png" style="width: 1.2rem; height: 1rem; cursor: pointer;" />
                            </button>
                          </div>
                          <div class="alert alert-danger" *ngIf="dob.touched && !dob.valid">
                            Birthday is required
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>

                  <div class="form-group">
                    <label>Phone Number</label>
                    <input required minlength="10" pattern="[0-9]{9}" ngModel name='phnnum' #phnnum="ngModel" type="number" placeholder="Enter Phone Number Here.."
                      class="form-control">
                    <div *ngIf="phnnum.touched && !phnnum.valid">
                      <div class="alert alert-danger" *ngIf="phnnum.errors.required">
                        Phone number is required
                      </div>
                      <div class="alert alert-danger" *ngIf="phnnum.errors.pattern">
                        Phone number is invalid
                      </div>
                    </div>
                  </div>

                  <div class="form-group">
                    <label>Email Address</label>
                    <input required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" ngModel name='email' #email="ngModel" type="email" placeholder="Enter Email Address Here.."
                      class="form-control">
                    <div *ngIf="email.touched && !email.valid">
                      <div class="alert alert-danger" *ngIf="email.errors.required">
                        Email is required
                      </div>
                      <div class="alert alert-danger" *ngIf="email.errors.pattern">
                        Email is invalid
                      </div>
                    </div>
                  </div>
                  <div>
                    Add skills here (Please fill with Yes/No)
                    <div class="raw">

                      <div class="col-sm-3 form-group">
                        <label>Java</label>
                        <input required ngModel name='java' #java="ngModel" type="text" placeholder="Enter yes/no Here.." class="form-control">
                        <div *ngIf="java.touched && !java.valid">
                          <div class="alert alert-danger" *ngIf="java.errors.required">
                            Answer is required(Yes/No)
                          </div>
                        </div>
                      </div>

                      <div class="col-sm-3 form-group">
                        <label>Angular</label>
                        <input required ngModel name='angular' #angular="ngModel" type="text" placeholder="Enter yes/no Here.." class="form-control">
                        <div *ngIf="angular.touched && !angular.valid">
                          <div class="alert alert-danger" *ngIf="angular.errors.required">
                            Answer is required(Yes/No)
                          </div>
                        </div>
                      </div>

                      <div class="col-sm-3 form-group">
                        <label>Nodejs</label>
                        <input required ngModel name='nodejs' #nodejs="ngModel" type="text" placeholder="Enter yes/no Here.." class="form-control">
                        <div *ngIf="nodejs.touched && !nodejs.valid">
                          <div class="alert alert-danger" *ngIf="nodejs.errors.required">
                            Answer is required(Yes/No)
                          </div>
                        </div>
                      </div>

                    </div>
                  </div>
                  <button type="submit" class="btn btn-primary" [disabled]="!fm.valid">Submit</button>

                </div>

                <p>
                  <!--{{ fm.value | json }}-->
                </p>

              </form>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="category==='getemployeedetails'" class="card">
        <div class="card-header">
          Get Employee Details
        </div>
        <div class="card-body" >
          <div class="col-lg-12 well">
            <div class="row">
              <form #fm="ngForm" (ngSubmit)="getdetails(fm.value)">
                <div class="col-sm-12">

                  <div class="form-group">
                    <label>ID</label>
                    <input required minlength="2" pattern="[0-9]{2,5}" ngModel name='detailId' #detailId="ngModel" type="number" placeholder="Enter ID Here.."
                      class="form-control">
                    <div *ngIf="detailId.touched && !detailId.valid">
                      <div class="alert alert-danger" *ngIf="detailId.errors.required">
                        ID is required
                      </div>
                      <div class="alert alert-danger" *ngIf="detailId.errors.pattern">
                        ID is invalid
                      </div>
                    </div>
                  </div>
                  <button type="submit" class="btn btn-primary"  (click)="clickedApp='true'" [disabled]="!fm.valid">Search</button>

                </div>

                <p>
                  <!--{{ fm.value | json }}-->
                </p>

              </form>
            </div>
          </div>
          
          <div *ngIf="clickedApp">
            <span role="group" aria-label="Basic example">
              <ng-template #content let-c="close" let-d="dismiss">
                <div class="modal-header">
                  <h4 class="modal-title" id="modal-basic-title">Employee Details</h4>
                  <button type="button" class="close" aria-label="Close" (click)="clickedApp='false'" (click)="d('Cross click')">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="container">
            
                  <div class="panel-group">

                    <div class=" panel panel-default">
                      <div class="panel-heading panel-success">
                        <b> Name</b>
                      </div>
                      <div class="panel-body">{{employeedetails.firstname}} {{employeedetails.lastname}}</div>
                    </div>

                    <div class="panel panel-default">
                      <div class="panel-heading panel-success">
                        <b>Residence</b>
                      </div>
                      <div class="panel-body">Address :{{employeedetails.reason}}     City: {{employeedetails.city}}</div>
                    </div>

                    <div class="panel panel-default">
                      <div class="panel-heading panel-success">
                        <b>Start Date</b>
                      </div>
                      <div class="panel-body">{{employeedetails.startdate}} </div>          
                    </div>

                    <div class="panel panel-default">
                      <div class="panel-heading panel-success">
                        <b>Birthday</b>
                      </div>
                      <div class="panel-body">{{employeedetails.birthday}} </div>
                    </div>

                    <div class="panel panel-default">
                      <div class="panel-heading panel-success">
                        <b>Contacts</b>
                      </div>
                      <div class="panel-body">Tel:{{employeedetails.phnnum}}  Email: {{employeedetails.email}} </div>
                    </div>

                    <div class="panel panel-default">
                      <div class="panel-heading panel-success">
                        <b>Skills</b>
                      </div>
                      <div class="panel-body">Java :{{employeedetails.java}}   Angular: {{employeedetails.angular}}  NodeJs: {{employeedetails.nodejs}}</div>
                    </div>

                  </div>

                </div>
              </ng-template>
              <div *ngIf="employeedetails">
            <button class="btn btn-lg btn-outline-primary" (click)="open(content)" [disabled]="!fm.valid">view</button>
              </div>
              <hr>
            </span>
          </div>

        </div>
      </div>

      <div *ngIf="category==='addanotice'" class="card">
        <div class="card-header">
          Add a Notice
        </div>
        <div class="card-body">
          <div *ngIf="noticeSuccess" class="alert alert-success" role="alert">
            Your notice has been submitted.
          </div>
      
          <div *ngFor="let notice of notices" class="card">
            <div class="card-body">
              <h5 class="card-title">{{notice.title}}</h5>
              <p class="card-text">{{notice.description}}</p>
            </div>
            <div>
              <!--button class="btn btn-lg btn-outline-primary   float-mid" (click)="editNotice(notice)">Edit</button-->
      
              <button class="btn btn-lg btn-outline-primary float-right" (click)="removeNotice(notice)">Remove</button>
            </div>
          </div>
      
          <div>
            <ng-template #content7 let-c="close" let-d="dismiss">
              <div class="modal-header">
                <h4 class="modal-title" id="modal-basic-title"> New Notice</h4>
                <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <form #n="ngForm">
                  <div class="form-group">
                    <label for="title">Title</label>
                    <input ngModel type="text" name="title" class="form-control" id="title" placeholder="Enter the Title">
                  </div>
                  <div class="form-group">
                    <label for="description">Description</label>
                    <textarea ngModel name="description" class="form-control" id="description" rows="3" placeholder="Enter Your description"></textarea>
                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <button type="submit" class="btn btn-outline-dark" (click)="c('Save click')" (click)=addNotice(n.value)>Save</button>
              </div>
            </ng-template>
      
            <button class="btn btn-lg btn-outline-primary" (click)="open(content7)">Add Notice</button>
      
          </div>
        </div>
      
      </div>

      <div *ngIf="category==='viewprojects'" class="card">
        <div class="card-header">
          View Projects
        </div>
        <div class="card-body">
          <div class="col-lg-12 well">
            <div class="row">
              <form #fm="ngForm" (ngSubmit)="getprojectdetails(fm.value)">
                <div class="col-sm-12">
        
                  <div class="form-group">
                    <label>Project ID</label>
                    <input required minlength="1" pattern="[0-9]{0,5}" ngModel name='detailId' #detailId="ngModel" type="number" placeholder="Enter ID Here.."
                      class="form-control">
                    <div *ngIf="detailId.touched && !detailId.valid">
                      <div class="alert alert-danger" *ngIf="detailId.errors.required">
                        ID is required
                      </div>
                      <div class="alert alert-danger" *ngIf="detailId.errors.pattern">
                        ID is invalid
                      </div>
                    </div>
                  </div>
                  <button type="submit" class="btn btn-primary" (click)="clickedApp='true'" [disabled]="!fm.valid">Search</button>
        
                </div>
        
                <p>
                  <!--{{ fm.value | json }}-->
                </p>
        
              </form>
            </div>
          </div>
        
          <div *ngIf="clickedApp">
            <span role="group" aria-label="Basic example">
              <ng-template #content4 let-c="close" let-d="dismiss">
                <div class="modal-header">
                  <h4 class="modal-title" id="modal-basic-title">Project Details</h4>
                  <button type="button" class="close" aria-label="Close" (click)="clickedApp='false'" (click)="d('Cross click')">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="container">
        
                  <div class="panel-group">
        
                    <div class=" panel panel-default">
                      <div class="panel-heading panel-success">
                        <b> Project ID</b>
                      </div>
                      <div class="panel-body">{{projectdetails.id}} </div>
                    </div>
        
                    <div class="panel panel-default">
                      <div class="panel-heading panel-success">
                        <b>Project Name</b>
                      </div>
                      <div class="panel-body">Address :{{projectdetails.projectname}} Budget: {{projectdetails.budget}}</div>
                    </div>
        
                    <div class="panel panel-default">
                      <div class="panel-heading panel-success">
                        <b>Start Date</b>
                      </div>
                      <div class="panel-body">{{projectdetails.sdate}} </div>
                    </div>
        
                    <div class="panel panel-default">
                      <div class="panel-heading panel-success">
                        <b>End date</b>
                      </div>
                      <div class="panel-body">{{projectdetails.edate}} </div>
                    </div>
        
                    <div class="panel panel-default">
                      <div class="panel-heading panel-success">
                        <b>Assigned Employee IDs</b>
                      </div>
                      <div class="panel-body">{{projectdetails.assignedemployees}}  </div>
                    </div>
        
                    <div class="panel panel-default">
                      <div class="panel-heading panel-success">
                        <b>Required Skills</b>
                      </div>
                      <div class="panel-body">Java :{{projectdetails.java}} Angular: {{projectdetails.angular}} NodeJs: {{projectdetails.nodejs}}</div>
                    </div>
        
                  </div>
        
                </div>
              </ng-template>
              <div *ngIf="projectdetails">
                <button class="btn btn-lg btn-outline-primary" (click)="open(content4)" [disabled]="!fm.valid">view</button>
              </div>
              <hr>
            </span>
          </div>
        
        </div>
      </div>

      <div *ngIf="category==='viewinquiries'" class="card">
        <div class="card-header">
          View Inquiries From PM
        </div>
        <div class="card-body">
          <div *ngFor="let viewinquiry of viewinquiries" class="card">
            <div class="card-body">
              <h5 class="card-title">{{viewinquiry.subject}}</h5>
              <p class="card-text">{{viewinquiry.inquiry}}</p>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="category==='leave-projectmanager'" class="card">
        <div class="card-header">
          Leave-Project Manager
        </div>
        <div class="card-body">
          <h5 class="card-title">Project Manager requested for leave</h5>
          <div>
            <button class="btn btn-primary btn-sm" (click)="getLeaveApplications_pm()" (click)="clickedApp='true'" onclick="this.disabled='true'">Applications</button>
          </div>
          <div *ngIf="clickedApp">
            <ul class="list-group">
              <li *ngFor="let application of leaveApplications" class="list-group-item d-flex justify-content-between align-items-center ">
                {{application.name}}
                <span class="btn-group" role="group" aria-label="Basic example">
                  <ng-template #content let-c="close" let-d="dismiss">
                    <div class="modal-header">
                      <h4 class="modal-title" id="modal-basic-title">Leave Application</h4>
                      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="container">

                      <div class="panel-group">
                        <div class=" panel panel-default">
                          <div class="panel-heading panel-success">
                            <b> Name</b>
                          </div>
                          <div class="panel-body">{{application.firstname}} {{application.lastname}}</div>
                        </div>
                        <div class="panel panel-default">
                          <div class="panel-heading panel-success">
                            <b>Reason</b>
                          </div>
                          <div class="panel-body">{{application.reason}}</div>
                        </div>
                        <div class="panel panel-default">
                          <div class="panel-heading panel-success">
                            <b>Data Duration</b>
                          </div>
                          <div class="panel-body">{{application.startdate}} to {{application.enddate}}</div>

                        </div>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-outline-dark" (click)="c('Save click')" (click)="setLeave_pm(application.leaveid,false)"
                        onclick="this.disabled='true'">Reject</button>
                      <button type="button" class="btn btn-outline-dark" (click)="c('Save click')" (click)="setLeave_pm(application.leaveid,true)"
                        onclick="this.disabled='true'">Approve</button>
                    </div>
                  </ng-template>

                  <button class="btn btn-lg btn-outline-primary" (click)="open(content)">view</button>

                  <hr>
                </span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div *ngIf="category==='leave-resourcemanager'" class="card">
        <div class="card-header">
          Leave-Resource Manager
        </div>
        <div class="card-body">
          <h5 class="card-title">Resource Manager requested for leave</h5>
          <div>
            <button class="btn btn-primary btn-sm" (click)="getLeaveApplications_rm()" (click)="clickedApp='true'" onclick="this.disabled='true'">Applications</button>
          </div>
          <div *ngIf="clickedApp">
            <ul class="list-group">
              <li *ngFor="let application of leaveApplications" class="list-group-item d-flex justify-content-between align-items-center ">
                {{application.name}}
                <span class="btn-group" role="group" aria-label="Basic example">
                  <ng-template #content let-c="close" let-d="dismiss">
                    <div class="modal-header">
                      <h4 class="modal-title" id="modal-basic-title">Leave Application</h4>
                      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="container">

                      <div class="panel-group">
                        <div class=" panel panel-default">
                          <div class="panel-heading panel-success">
                            <b> Name</b>
                          </div>
                          <div class="panel-body">{{application.firstname}} {{application.lastname}}</div>
                        </div>
                        <div class="panel panel-default">
                          <div class="panel-heading panel-success">
                            <b>Reason</b>
                          </div>
                          <div class="panel-body">{{application.reason}}</div>
                        </div>
                        <div class="panel panel-default">
                          <div class="panel-heading panel-success">
                            <b>Data Duration</b>
                          </div>
                          <div class="panel-body">{{application.startdate}} to {{application.enddate}}</div>

                        </div>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-outline-dark" (click)="c('Save click')" (click)="setLeave_rm(application.leaveid,false)"
                        onclick="this.disabled='true'">Reject</button>
                      <button type="button" class="btn btn-outline-dark" (click)="c('Save click')" (click)="setLeave_rm(application.leaveid,true)"
                        onclick="this.disabled='true'">Approve</button>
                    </div>
                  </ng-template>

                  <button class="btn btn-lg btn-outline-primary" (click)="open(content)">view</button>

                  <hr>
                </span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div *ngIf="category==='leave-employees'" class="card">
        <div class="card-header">
          Leave-Employees
        </div>
        <div class="card-body">
          <h5 class="card-title">Employees requests for leave</h5>
          <div>
            <button class="btn btn-primary btn-sm" (click)="getLeaveApplications_em()" (click)="clickedApp='true'" onclick="this.disabled='true'">Applications</button>
          </div>
          <div *ngIf="clickedApp">
            <ul class="list-group">
              <li *ngFor="let application of leaveApplications" class="list-group-item d-flex justify-content-between align-items-center ">
                {{application.name}}
                <span class="btn-group" role="group" aria-label="Basic example">
                  <ng-template #content let-c="close" let-d="dismiss">
                    <div class="modal-header">
                      <h4 class="modal-title" id="modal-basic-title">Leave Application</h4>
                      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="container">

                      <div class="panel-group">
                        <div class=" panel panel-default">
                          <div class="panel-heading panel-success">
                            <b> Name</b>
                          </div>
                          <div class="panel-body">{{application.firstname}} {{application.lastname}}</div>
                        </div>
                        <div class="panel panel-default">
                          <div class="panel-heading panel-success">
                            <b>Reason</b>
                          </div>
                          <div class="panel-body">{{application.reason}}</div>
                        </div>
                        <div class="panel panel-default">
                          <div class="panel-heading panel-success">
                            <b>Data Duration</b>
                          </div>
                          <div class="panel-body">{{application.startdate}} to {{application.enddate}}</div>

                        </div>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-outline-dark" (click)="c('Save click')" (click)="setLeave_em(application.leaveid,false)"
                        onclick="this.disabled='true'">Reject</button>
                      <button type="button" class="btn btn-outline-dark" (click)="c('Save click')" (click)="setLeave_em(application.leaveid,true)"
                        onclick="this.disabled='true'">Approve</button>
                    </div>
                  </ng-template>

                  <button class="btn btn-lg btn-outline-primary" (click)="open(content)">view</button>

                  <hr>
                </span>
              </li>
            </ul>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>